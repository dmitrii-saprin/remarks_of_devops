## Введение в Linux

### Основы Linux

1. Расскажите об истории развития Linux и как принципы Open Source влияют на его экосистему.
2. В чем основные различия между дистрибутивами Debian, CentOS и Arch? Какой бы вы выбрали для CI/CD сервера и почему?
3. Где в реальной инфраструктуре вы применяли Linux, и как решали проблемы совместимости между дистрибутивами?
4. Какие инструменты в Linux позволяют просматривать текущие процессы и управлять ими (мониторить ресурсы, менять приоритет, завершать процессы)?
5. Опишите применение команд ps (список процессов), top/htop (мониторинг ресурсов), nice/renice (изменение приоритета) и kill (корректное завершение процесса).

### Установка и настройка

6. Как вы подходите к разметке диска для высоконагруженного сервера (например, с разделами /, /var, /swap)?
7. Какие шаги вы выполняете сразу после установки Linux для подготовки сервера к production?

### Основы работы в терминале

8. Напишите Bash-скрипт для мониторинга свободного места на диске с уведомлением при превышении порога.
9. Объясните разницу между > и >>, а также как использовать 2>&1 и /dev/null в реальных сценариях.

### Основы архитектуры ОС

10. [Как работает виртуальная память в Linux? Что такое page fault и как его диагностировать?](https://github.com/dmitrii-saprin/Preparation/blob/master/articles/answers/linux/10.md)
11. Что такое модули ядра, и как вы добавляете или отключаете их в production?

## Сети в Linux

### Фундамент

12. Объясните модель OSI и как она соотносится с TCP/IP. Какие уровни вы чаще всего диагностируете?
13. Как вы используете tcpdump для анализа сетевых проблем? Приведите пример фильтра.

### IP-адресация

14. Как рассчитать подсеть для сети с 50 хостами? Какую маску выберете?
15. В чем преимущества IPv6 перед IPv4, и как вы мигрировали бы сеть на IPv6?

### Настройка сети

16. Как настроить статический IP через netplan на Ubuntu и проверить результат?
17. Какой инструмент вы предпочитаете для диагностики сети: netstat или ss? Почему?
18. По какому порту и протоколу работает утилита ping?
19. В чем ключевые различия между протоколами TCP и UDP? Почему для одних задач выбирается TCP (например, веб-сервисы), а для других UDP (стриминг, DNS), и какие свойства каждого протокола влияют на этот выбор?
20. Как работает встроенный брандмауэр Linux на основе iptables и его современный аналог nftables? Объясните концепции таблиц, цепочек и правил. Как бы вы настроили базовые правила firewall для защиты сервера (например, разрешить SSH, закрыть неиспользуемые порты)?
21. Объясните разницу между сетевым мостом (bridge), объединением интерфейсов (bonding/teaming) и VLAN. В каких ситуациях используют каждую из этих технологий и как их настроить в Linux (например, с помощью brctl/bridge, настроек bond0 в /etc/network или ip link, и утилиты vconfig/ip link для VLAN)?

## Безопасность Linux

22. Как включить и настроить систему мандатного контроля доступа (MAC), например SELinux или AppArmor, на Linux-сервере? В чем разница между подходами SELinux и AppArmor, и как проверить, что нужные политики применяются (например, getenforce, aa-status)?
23. Что такое chroot и для чего используется эта технология? Как создать изолированное окружение (jail) с помощью chroot и какие ограничения и риски связаны с таким методом изоляции?
24. Как правильно настроить файл конфигурации /etc/sudoers для предоставления ограниченных привилегий пользователям? Как с помощью sudo разрешить выполнение только определённых команд от имени администратора и обезопасить доступ к критическим операциям?
25. Какие механизмы защиты встроены в Linux для предотвращения атак и повышения безопасности системы? Расскажите про меры вроде NX-bit (запрет выполнения в памяти), ASLR (рандомизация адресного пространства), sandboxing (seccomp) и такие инструменты, как fail2ban для защиты от подборов паролей.

## Производительность и мониторинг

26. Как в Linux отследить загрузку CPU и потребление памяти? Какие утилиты вы используете для мониторинга ресурсов (например, top, htop, vmstat, free) и на какие ключевые метрики смотрите при анализе производительности системы?
27. Что такое Load Average в Linux? Как интерпретировать три числа load average, которые выводятся командой uptime или top (например, 0.5, 1.2, 3.0), и как определить, является ли нагрузка высокой относительно возможностей системы (количества ядер CPU)?
28. Какими способами вы анализируете журналы (лог-файлы) на Linux-системах? Расскажите о применении инструментов вроде tail -f, grep, утилиты journalctl (для системd) для мониторинга логов в режиме реального времени и поиска причин сбоев или ошибок в работе приложений.
29. Как вы используете утилиты strace и perf для диагностики проблем в Linux? Приведите примеры: когда strace помогает отладить зависающий или падающий процесс (отслеживая системные вызовы), а когда стоит воспользоваться perf для профилирования и выявления узких мест в производительности приложения.

## Порты и сокеты

30. Объясните процесс TCP handshake. Как вы диагностируете проблемы с соединением?
31. Чем отличаются TCP и UDP, и как выбрать между ними для приложения?

## Статическая и динамическая маршрутизация

32. Как добавить маршрут через ip route для трафика через определённый шлюз?
33. Как настроить OSPF на Linux с помощью quagga или frr?

## DHCP и DNS

34. Раскажите как работает DNS?
35. Как работает DHCP (процесс DORA)? Как настроить резервирование IP на сервере?
36. Как защитить DNS-сервер от атак (например, DNS amplification)?

## Файрвол и NAT

37. Как настроить NAT с помощью iptables для маршрутизации трафика между подсетями?
38. Чем отличается nftables от iptables, и как вы мигрировали бы правила?

## Файловые системы и управление файлами

39. Зачем нужна структура FHS? Как вы используете /var и /tmp в production?
40. Что хранится в /proc и как вы используете его для диагностики?
41. Какой файловой системой (ext4, xfs, btrfs) вы бы воспользовались для базы данных и почему?
42. Сравните файловые системы ext4, XFS, Btrfs и ZFS. В чем их основные отличия по возможностям, надежности и производительности, и в каких случаях предпочтительно использовать каждую из них?
43. Как расширить LVM-раздел в production без downtime?
44. Что такое inode в Linux и какую информацию он содержит? Как файловая система использует inode при доступе к файлам и каталогам?
45. Что такое суперблок в контексте файловой системы Linux? Что происходит при его повреждении и как можно восстановить файловую систему, используя резервные копии суперблока (например, через dumpe2fs и fsck)?
46. Как устроена виртуальная файловая система /proc и какую информацию о системе в ней можно найти? Чем отличается директория /sys от /proc и какие сведения о оборудовании и драйверах можно получить через нее?
47. В чем разница между жёсткими и символическими ссылками? Как это влияет на бэкапы?

## Процессы и управление ресурсами

48. Как вы диагностируете процесс, который потребляет слишком много CPU?
49. Как изменить приоритет процесса в реальном времени и зачем это нужно?
50. Объясните разницу между процессом и потоком (thread) в Linux. Как операционная система управляет потоками внутри процесса и как это отражается на использовании CPU и памяти?
51. Опишите, что происходит при вызове системного вызова fork() и как он используется вместе с exec() для запуска нового процесса. Что такое механизм copy-on-write при fork() и зачем он нужен?
52. Что такое переключение контекста (context switching) в операционной системе? Когда происходят переключения контекста между процессами или потоками и какие накладные расходы связаны с частыми переключениями?
53. Как работает swap в Linux? Когда его стоит отключать?
54. Как вы анализируете утечки памяти в production?
55. Как настроить ротацию логов через logrotate для кастомного приложения?
56. Как найти причину сбоя сервиса с помощью journalctl и dmesg?

## VPN и маршрутизация

57. В чем разница между WireGuard и OpenVPN? Какой выберете для site-to-site VPN?
58. Как MTU влияет на работу VPN, и как его настроить?
59. Как настроить WireGuard для соединения двух офисов?
60. Как вы отлаживаете проблемы с OpenVPN (например, клиент не подключается)?
61. Объясните фазы IKE в IPSec. Как настроить StrongSwan для туннеля?
62. Как настроить BGP на Linux с помощью frr? Зачем это нужно в CI/CD?

## Продвинутые вопросы по ядру Linux

63. Что такое OOM Killer в Linux и в каких ситуациях он активируется? Как ядро выбирает, какой процесс завершить при критической нехватке памяти, и какие настройки (например, параметр oom_score_adj в /proc) позволяют влиять на этот выбор на уровне процесса?
64. В чем разница между soft limit и hard limit при ограничении ресурсов процесса (ulimit)? Как изменить эти лимиты для сеанса или конкретного демона, и что произойдет, когда процесс достигнет мягкого лимита или попытается превысить жесткий лимит (например, по числу открытых файлов)?
65. Объясните понятие NUMA (Non-Uniform Memory Access) в многопроцессорных системах. Как архитектура NUMA влияет на производительность приложений, и какие инструменты или настройки (например, numactl, привязка процессоров и памяти к узлам) позволяют оптимизировать работу приложений на серверах с NUMA?
66. Как работает механизм загрузки модулей ядра в Linux? Как просмотреть список загруженных модулей и загрузить или выгрузить модуль вручную (утилиты lsmod, modinfo, modprobe, insmod, rmmod)? Приведите пример ситуации, когда необходимо загрузить дополнительный модуль ядра (например, подключение нового оборудования или включение поддержки файловой системы).

## Ситуационные вопросы

67. Сервер перестал отвечать по SSH. Как вы диагностируете и решаете проблему?
68. Вам нужно настроить отказоустойчивый кластер на Linux. Какой подход выберете?
69. Как вы оптимизировали бы сервер под высокую нагрузку (например, 10k запросов/с)?
70. Ваши логи заполнили диск. Как быстро освободить место и предотвратить повторение?
71. Расскажите о самом сложном инциденте с Linux, который вы решали.
72. Вы пытаетесь записать файл, однако система отвечает, что места нет, хотя команда df явно показывает наличие места, в чем причина?
73. Вы периодически соединяетесь с сервером по сети, но подключится удаётся не каждый раз, в логах явной причины нет, в чем причина?

## Вопросы со звёздочкой
74. Что такое стандартные потоки ввода-вывода и какие бывают?